
    <script>
      const questions = [
        "What is your current monthly expense budget?",
        "What is your estimated monthly retirement expense budget?",
        "What is your current total invested portfolio value?",
        "What is your target FIRE number (the total portfolio value you aim for)?",
        "What is your expected average annual portfolio return after inflation?"
      ];
      let currentQuestionIndex = 0;
      const userResponses = {};
      const chatContainer = document.getElementById('chat-container');
      const sendButton = document.querySelector('button');
      const inputField = document.querySelector('input[type="text"]');
    
      function addMessage(sender, message) {
        const messageDiv = document.createElement('div');
        messageDiv.classList.add('mb-2', 'p-2', 'rounded-lg', 'max-w-[80%]');
        if (sender === 'user') {
          messageDiv.classList.add('bg-emerald-600', 'text-white', 'self-end');
        } else {
          messageDiv.classList.add('bg-slate-700/50', 'self-start');
        }
        messageDiv.textContent = message;
        chatContainer.appendChild(messageDiv);
        chatContainer.scrollTop = chatContainer.scrollHeight;
      }
    
      function askQuestion() {
        if (currentQuestionIndex < questions.length) {
          addMessage('ai', questions[currentQuestionIndex]);
        } else {
          addMessage('ai', 'Calculating your FIRE path...');
          // In a real app, you would now send userResponses to a backend or do calculations
          console.log(userResponses);
          inputField.disabled = true;
          sendButton.disabled = true;
        }
      }
    
      function handleSend() {
        const userMessage = inputField.value.trim();
        if (userMessage) {
          addMessage('user', userMessage);
          userResponses[questions[currentQuestionIndex]] = userMessage;
          inputField.value = '';
          currentQuestionIndex++;
          askQuestion();
        }
      }
    
      sendButton.addEventListener('click', handleSend);
      inputField.addEventListener('keypress', function(e) {
        if (e.key === 'Enter') {
          handleSend();
        }
      });
    
      // Initial question is already in the HTML, so start with the second one if we were to dynamically add the first.
      // But since the first is hardcoded, we'll start index at 0 to align with the array for response storage,
      // and the first 'askQuestion' call after the first response will ask the second question.
      // We don't call askQuestion() initially as the first question is part of the static HTML.
      // We can add it dynamically too if needed by removing from static and calling askQuestion() here.
      // For now, let's assume the first message is static and we only add subsequent ones.
      // If we wanted the first question also added by script:
      // window.onload = () => { addMessage('ai', questions[0]); };
    
    </script>
    
